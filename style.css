:root{ --brand:#1f6fe0; }
*{ box-sizing:border-box; }
body{
  margin:0; font-family:Arial,system-ui,Segoe UI,Roboto,sans-serif; color:#233;
  min-height:100vh;
  background:
    radial-gradient(1000px 600px at 10% 10%, #b6f3ff 0%, transparent 60%),
    radial-gradient(1200px 800px at 90% 20%, #ffe2b8 0%, transparent 55%),
    linear-gradient(135deg, #74ebd5, #9face6);
  display:flex; justify-content:center; align-items:center;
}
#app{
  width:96%; max-width:1100px; height:94vh;
  background:rgba(255,255,255,.95); border-radius:18px;
  box-shadow:0 10px 30px rgba(0,0,0,.22);
  display:flex; flex-direction:column; overflow:hidden;
}
header{ background:var(--brand); color:#fff; text-align:center; padding:14px 18px; }
header h1{ margin:0; font-size:1.6rem; }
header p{ margin:4px 0 0; opacity:.9; }

#diag{
  padding:8px 12px; background:#fff4cc; color:#7a5b00;
  border-bottom:1px solid #e6d28a; font-family:monospace
}

#controls{ padding:12px; background:#f7f7f9; border-bottom:1px solid #e6e6ef; }
#controls .row{ display:flex; gap:14px; flex-wrap:wrap; margin:8px 0; align-items:center; }
#controls select, #controls textarea, #controls button, #controls .file, #controls input{
  padding:10px; border:1px solid #ddd; border-radius:10px; background:#fff;
}
#controls input{ min-width:150px; }
#controls textarea{ flex:1; min-width:300px; resize:vertical; }
#controls button{ background:var(--brand); color:#fff; border:none; cursor:pointer }
#controls .file{ cursor:pointer; border:1px dashed #bbb; background:#fff }
#controls .group{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }

#stageWrap{
  flex: 1;
  position: relative;
  min-height: 480px;
}
#stageWrap canvas{
  display:block; width:100%; height:100%; background:transparent;
}

#overlayBar{
  display:none;
  position:absolute; inset:0 auto auto 0; right:0; height:56px;
  background:rgba(0,0,0,.6); color:#fff; display:flex; align-items:center; gap:10px;
  padding:8px 12px; z-index:1000;
}
#overlayBar button{ background:#ff4d4f; border:none; color:#fff; padding:10px 14px; border-radius:10px; cursor:pointer; }

body.playing header,
body.playing #controls,
body.playing footer { display:none; }
body.playing #overlayBar { display:flex; }
