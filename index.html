<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Animált Mese – Saját Karakterrel</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="app">
    <header>
      <h1>🎬 Animált Mese</h1>
      <p>Tölts fel képet, vagy készíts egyedi kék manó-maszkot, és játszd le a mesét felolvasással!</p>
    </header>

    <div id="diag">Betöltés…</div>

    <section id="controls">
      <div class="row">
        <label class="file">
          <input type="file" id="fileInput" accept="image/*">
          Saját kép kiválasztása
        </label>

        <button id="makeChar" disabled>📸 Képből karakter</button>
        <button id="genMascot">🧿 Cuki maszkot kérek</button>
        <button id="testBtn" title="Gyors ellenőrzés">🧪 Teszt</button>

        <label>Háttér:
          <select id="bgSelect">
            <option value="forest">Erdő</option>
            <option value="space">Űr</option>
            <option value="beach">Tengerpart</option>
          </select>
        </label>

        <label>Akcentus (felolvasás):
          <select id="accent">
            <option value="hu-HU">Magyar</option>
            <option value="en-GB">English (UK)</option>
            <option value="en-US">English (US)</option>
            <option value="de-DE">Deutsch (DE)</option>
            <option value="es-ES">Español (ES)</option>
            <option value="es-MX">Español (MX)</option>
          </select>
        </label>
      </div>

      <div class="row">
        <label>Főhős neve: <input id="heroName" placeholder="pl. Kiara"></label>
        <label>Életkor: <input id="heroAge" type="number" min="3" max="12" style="width:80px" value="6"></label>
        <label>Barát/állat: <input id="heroBuddy" placeholder="pl. kis delfin"></label>
        <label>Világ/téma:
          <select id="heroWorld">
            <option value="erdei kaland">erdei kaland</option>
            <option value="tengerparti nap">tengerparti nap</option>
            <option value="űrutazás">űrutazás</option>
            <option value="varázsmező">varázsmező</option>
          </select>
        </label>
      </div>

      <div class="row">
        <textarea id="story" rows="5" placeholder="Írd ide a mesét / narrációt... vagy generáld le alább."></textarea>
      </div>

      <div class="row">
        <div class="group">
          <strong>Animációk:</strong>
          <label><input type="checkbox" id="anim-wave" checked> 👋 Integetés</label>
          <label><input type="checkbox" id="anim-walk" checked> 🚶‍♂️ Séta</label>
          <label><input type="checkbox" id="anim-jump" checked> 🦘 Ugrás</label>
          <label><input type="checkbox" id="anim-dance" checked> 💃 Tánc</label>
        </div>

        <div class="group">
          <strong>Automata mese:</strong>
          <label>Hossz:
            <select id="storyMinutes">
              <option value="1">1 perc</option>
              <option value="2">2 perc</option>
              <option value="3" selected>3 perc</option>
              <option value="4">4 perc</option>
              <option value="5">5 perc</option>
            </select>
          </label>
          <button id="autoStory">🪄 Mese generálása</button>
        </div>
      </div>

      <div class="row">
        <button id="playStory">▶ Mese lejátszása (felolvasás + animáció)</button>
        <button id="waveBtn">👋 Integetés</button>
        <button id="walkBtn">🚶‍♂️ Séta</button>
        <button id="jumpBtn">🦘 Ugrás</button>
        <button id="danceBtn">💃 Tánc</button>
        <button id="talkBtn">🗣️ Beszéd (szájszinkron)</button>
        <button id="stopAll">⏹ Megállít</button>
      </div>
    </section>

    <main id="stageWrap"></main>

    <!-- Teljes képernyős vezérlősáv lejátszáskor -->
    <div id="overlayBar">
      <button id="exitPlay">⏹ Megállít & vissza az irányítópulthoz</button>
    </div>

    <footer>
      <small>Megjegyzés: a „Stitch” és más ismert karakterek jogvédettek. Ez az app saját, eredeti maszkot készít.</small>
    </footer>
  </div>

  <!-- Pixi a body végén, majd saját kód -->
  <script src="https://unpkg.com/pixi.js@7.4.2/dist/pixi.min.js"></script>
  <script src="app.js"></script>
</body>
</html>
